From 6231bd0c23a60600f35aaa37fe0f50b5a78ad921 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?St=C3=A9phane=20Graber?= <stgraber@ubuntu.com>
Date: Thu, 20 Oct 2016 16:35:36 -0400
Subject: s390x: Fix seccomp handling of personalities
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

There are no personalities for s390x, so don't list itself as one.

Signed-off-by: St√©phane Graber <stgraber@ubuntu.com>
---
 src/lxc/seccomp.c | 9 ---------
 1 file changed, 9 deletions(-)

diff --git a/src/lxc/seccomp.c b/src/lxc/seccomp.c
index 5069730..83b1cb4 100644
--- a/src/lxc/seccomp.c
+++ b/src/lxc/seccomp.c
@@ -378,15 +378,6 @@ static int parse_config_v2(FILE *f, char *line, struct lxc_conf *conf)
 		if (!compat_ctx[0] || !compat_ctx[1])
 			goto bad;
 #endif
-#ifdef SCMP_ARCH_S390X
-	} else if (native_arch == lxc_seccomp_arch_s390x) {
-		cur_rule_arch = lxc_seccomp_arch_all;
-		compat_arch[0] = SCMP_ARCH_S390X;
-		compat_ctx[0] = get_new_ctx(lxc_seccomp_arch_s390x,
-				default_policy_action);
-		if (!compat_ctx[0])
-			goto bad;
-#endif
 	}
 
 	if (default_policy_action != SCMP_ACT_KILL) {
